<!DOCTYPE HTML>
<html>
	<head>
		<title>Computación Visual</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/p5.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/addons/p5.dom.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/addons/p5.sound.min.js"></script>
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body>
			<script  src="js/kinegrama.js"></script>
		<!-- Header -->
			<section id="header">
				<header>
					<span class="image avatar"><img src="images/avatar.jpg" alt="" /></span>
					<h1 id="logo"><a href="#">Computación visual</a></h1>
					<p>"Si buscas resultados distintos no hagas siempre lo mismo."<br />
					Albert Einstein. </p>
				</header>
				<nav id="nav">
					<ul>
						<li><a href="#one" class="active">Introduccion</a></li>
						<li><a href="#two">Codigo</a></li>
						<li><a href="#three">Visual Hack</a></li>
					</ul>
				</nav>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">

						<!-- One -->
							<section id="one">
								<div class="container">
									<header class="major">
										<h2>Kinegramas en P5.js</h2>
										<p>Kinegramas</p>
									</header>
                  <p>Los kinegramas son considerados antiguos pues existen referencias en postales desde alrededor de 1915, sin embargo, la patente de dicho invento se le atribuye a Rufus Butler Seder en 1998.</p><br>
                  <p>Estos regularmente se basan en dos elementos: un dibujo procesado a forma de patrón de gráficos (fotogramas) que interviene en la ilusión de movimiento y una rejilla o malla de franjas, las cuales al ser deslizadas sobre el dibujo generan el efecto de movimiento. Los kinegramas funcionan debido a que generan un patrón de interferencias que nuestro cerebro interpreta como movimiento, lo que hace la rejilla es mostrar únicamente uno de los fotogramas tapando los demás y mientras se mueve muestra los fotogramas en el orden que se desee y se crea una ilusión de movimiento.</p><br>
                  <p>Lo que se pretende con este visual hack es poder convertir cualquier secuencia lógica compuesta por 4 imágenes en un kinegrama funcional, esto se logra usando la librería de JavaScript “p5.js” y trabajando en primer lugar con una base desarrollada en Processing. Para conseguir convertir este conjunto de imágenes en la rejilla necesaria para la ilusión de movimiento se recorre cada una de las mismas por medio de un algoritmo que trabaja sobre los pixeles y crea un fondo con las posiciones correspondientes para cada una de los trozos de la imagen, este fondo es el patrón de gráficos que es recorrido por una rejilla y así se visualiza el movimiento en el kinegrama.
                    </p>

								</div>
							</section>

						<!-- Two -->
							<section id="two">
								<div class="container">
									<h3>Codigo.</h3>
									<center>
							    	<table align="left" bgcolor="#333333" border="10" cellspacing="1" cellpadding="7">
							    		<tbody>
							    			<tr>
							    				<td valign="top">
							              <p style="text-align: justify;">
							                <span style="color:#777777;">// Se precargan las 4 imagenes que serán usadas.</span>
							              </p>
							    					<p style="text-align: justify;">
							    						<span style="color:#8e44ad;">function </span>
							                <span style="color:#2980b9  ;">preload</span>
							                <span style="color:#aaaaaa;">() {</span>
							              </p>
							    					<p style="text-align: justify; margin-left: 20px;">
							    						<span style="color:#aaaaaa;">img1</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#2980b9  ;">loadImage</span>
							                <span style="color:#aaaaaa;">(</span>
							                <span style="color:#2ecc71 ;">"assets/c1.jpg"</span>
							                <span style="color:#aaaaaa;">)</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#aaaaaa;">img2</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#2980b9  ;">loadImage</span>
							                <span style="color:#aaaaaa;">(</span>
							                <span style="color:#2ecc71 ;">"assets/c2.jpg"</span>
							                <span style="color:#aaaaaa;">)</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#aaaaaa;">img3</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#2980b9  ;">loadImage</span>
							                <span style="color:#aaaaaa;">(</span>
							                <span style="color:#2ecc71 ;">"assets/c3.jpg"</span>
							                <span style="color:#aaaaaa;">)</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#aaaaaa;">img4</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#2980b9  ;">loadImage</span>
							                <span style="color:#aaaaaa;">(</span>
							                <span style="color:#2ecc71 ;">"assets/c4.jpg"</span>
							                <span style="color:#aaaaaa;">);</span>
							              </p>
							              <p style="text-align: justify;">
							                <span style="color:#aaaaaa;">}</span>
							              </p>
							              <p style="text-align: justify;">
							                <span style="color:#777777;">// Creamos un Canvas de tamaño 600 X 600.</span>
							              </p>
							              <p style="text-align: justify;">
							                <span style="color:#8e44ad;">function </span>
							                <span style="color:#2980b9  ;">setup</span>
							                <span style="color:#aaaaaa;">() {</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#2980b9  ;">createCanvas</span>
							                <span style="color:#aaaaaa;">(</span>
							                <span style="color:#dc7633;">600</span>
							                <span style="color:#aaaaaa;">,</span>
							                <span style="color:#dc7633;">600</span>
							                <span style="color:#aaaaaa;">);</span>
							              </p>
							              <p style="text-align: justify;">
							                <span style="color:#aaaaaa;">}</span>
							              </p>
							              <p style="text-align: justify;">
							                <span style="color:#8e44ad;">var </span>
							                <span style="color:#aaaaaa;">contador </span>
							                <span style="color:#00ffff;">= -</span>
							                <span style="color:#dc7633;">100</span>
							                <span style="color:#aaaaaa;">;</span>
							              </p>
							              <p style="text-align: justify;">
							                <span style="color:#8e44ad;">function </span>
							                <span style="color:#2980b9  ;">draw</span>
							                <span style="color:#aaaaaa;">() {</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#e74c3c;">img1</span>
							                <span style="color:#aaaaaa;">.</span>
							                <span style="color:#2980b9  ;">loadPixels</span>
							                <span style="color:#aaaaaa;">();</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#e74c3c;">img2</span>
							                <span style="color:#aaaaaa;">.</span>
							                <span style="color:#2980b9  ;">loadPixels</span>
							                <span style="color:#aaaaaa;">();</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#e74c3c;">img3</span>
							                <span style="color:#aaaaaa;">.</span>
							                <span style="color:#2980b9  ;">loadPixels</span>
							                <span style="color:#aaaaaa;">();</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#e74c3c;">img4</span>
							                <span style="color:#aaaaaa;">.</span>
							                <span style="color:#2980b9  ;">loadPixels</span>
							                <span style="color:#aaaaaa;">();</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#2980b9  ;">loadPixels</span>
							                <span style="color:#aaaaaa;">();</span>
							              </p>
							                <p style="text-align: justify; margin-left: 20px;">
							                  <span style="color:#8e44ad;">for </span><span style="color:#aaaaaa;">(</span><span style="color:#8e44ad;">var </span><span style="color:#aaaaaa;">i</span><span style="color:#00ffff;"> = </span><span style="color:#dc7633;">0</span><span style="color:#aaaaaa;"> ; i </span>
							                  <span style="color:#00ffff;"> < </span><span style="color:#dc7633;">4</span><span style="color:#00ffff;"> * </span><span style="color:#e74c3c;">img0</span><span style="color:#aaaaaa;">.</span><span style="color:#e74c3c;">height</span>
							                  <span style="color:#00ffff;"> * </span><span style="color:#e74c3c;">img0</span><span style="color:#aaaaaa;">.</span><span style="color:#e74c3c;">width</span>
							                  <span style="color:#aaaaaa;">; i</span>
							                  <span style="color:#00ffff;">+=</span>
							                  <span style="color:#dc7633;">4</span>
							                  <span style="color:#aaaaaa;">) {</span>
							                </p>
							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#8e44ad;">if </span>
							                <span style="color:#aaaaaa;">( ( ( i</span><span style="color:#00ffff;">/</span><span style="color:#dc7633;">4 </span><span style="color:#aaaaaa;">)</span><span style="color:#00ffff;"> %</span><span style="color:#dc7633;">12</span><span style="color:#aaaaaa;">)</span>
							                <span style="color:#00ffff;"><</span><span style="color:#dc7633;">3</span><span style="color:#aaaaaa;">)</span>
							              </p>
							              <p style="text-align: justify; margin-left: 60px;">
							                <span style="color:#aaaaaa;">aux</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#aaaaaa;">img1;</span>
							              </p>
							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#8e44ad;">else if </span>
							                <span style="color:#aaaaaa;">( ( ( i</span><span style="color:#00ffff;">/</span><span style="color:#dc7633;">4 </span><span style="color:#aaaaaa;">)</span><span style="color:#00ffff;"> %</span><span style="color:#dc7633;">12</span><span style="color:#aaaaaa;">)</span>
							                <span style="color:#00ffff;"><</span><span style="color:#dc7633;">6</span><span style="color:#aaaaaa;">)</span>
							              </p>
							              <p style="text-align: justify; margin-left: 60px;">
							                <span style="color:#aaaaaa;">aux</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#aaaaaa;">img2;</span>
							              </p>
							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#8e44ad;">else if </span>
							                <span style="color:#aaaaaa;">( ( ( i</span><span style="color:#00ffff;">/</span><span style="color:#dc7633;">4 </span><span style="color:#aaaaaa;">)</span><span style="color:#00ffff;"> %</span><span style="color:#dc7633;">12</span><span style="color:#aaaaaa;">)</span>
							                <span style="color:#00ffff;"><</span><span style="color:#dc7633;">9</span><span style="color:#aaaaaa;">)</span>
							              </p>
							              <p style="text-align: justify; margin-left: 60px;">
							                <span style="color:#aaaaaa;">aux</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#aaaaaa;">img3;</span>
							              </p>
							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#8e44ad;">else</span>
							              </p>
							              <p style="text-align: justify; margin-left: 60px;">
							                <span style="color:#aaaaaa;">aux</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#aaaaaa;">img4;</span>
							              </p>

							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#aaaaaa;">pixels[i]</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#e74c3c;">aux</span><span style="color:#aaaaaa;">.</span><span style="color:#e74c3c;">pixels</span><span style="color:#aaaaaa;">[i];</span>
							              </p>

							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#aaaaaa;">pixels[i</span><span style="color:#00ffff;">+</span><span style="color:#dc7633;">1</span><span style="color:#aaaaaa;">]</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#e74c3c;">aux</span><span style="color:#aaaaaa;">.</span><span style="color:#e74c3c;">pixels</span><span style="color:#aaaaaa;">[i</span><span style="color:#00ffff;">+</span><span style="color:#dc7633;">1</span><span style="color:#aaaaaa;">];</span>
							              </p>

							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#aaaaaa;">pixels[i</span><span style="color:#00ffff;">+</span><span style="color:#dc7633;">2</span><span style="color:#aaaaaa;">]</span>
							                <span style="color:#00ffff;">=</span>
							                <span style="color:#e74c3c;">aux</span><span style="color:#aaaaaa;">.</span><span style="color:#e74c3c;">pixels</span><span style="color:#aaaaaa;">[i</span><span style="color:#00ffff;">+</span><span style="color:#dc7633;">2</span><span style="color:#aaaaaa;">];</span>
							              </p>

							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#aaaaaa;">}</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#2980b9  ;">updatePixels</span>
							                <span style="color:#aaaaaa;">();</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#aaaaaa;">contador</span><span style="color:#00ffff;">++</span><span style="color:#aaaaaa;">;</span>
							              </p>

							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#8e44ad;">for </span><span style="color:#aaaaaa;">(</span><span style="color:#8e44ad;">var </span><span style="color:#aaaaaa;">j</span><span style="color:#00ffff;"> = </span><span style="color:#dc7633;">0</span><span style="color:#aaaaaa;"> ; </span>
							                <span style="color:#aaaaaa;">j</span><span style="color:#00ffff;"> < </span><span style="color:#dc7633;">1200</span><span style="color:#aaaaaa;"> ; </span>
							                <span style="color:#aaaaaa;">j</span><span style="color:#00ffff;"> += </span><span style="color:#dc7633;">12</span><span style="color:#aaaaaa;"> ){ </span>
							              </p>
							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#2980b9  ;">fill</span><span style="color:#aaaaaa;">(</span><span style="color:#dc7633;">0</span><span style="color:#aaaaaa;">);</span>
							              </p>

							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#2980b9  ;">rect</span><span style="color:#aaaaaa;">( contador</span><span style="color:#00ffff;">+</span><span style="color:#aaaaaa;">j ,</span>
							                <span style="color:#dc7633;">0</span><span style="color:#aaaaaa;"> ,</span>
							                <span style="color:#dc7633;">9</span><span style="color:#aaaaaa;"> ,</span>
							                <span style="color:#dc7633;">600</span><span style="color:#aaaaaa;"> );</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#aaaaaa;">}</span>
							              </p>
							              <p style="text-align: justify; margin-left: 20px;">
							                <span style="color:#8e44ad;">if </span><span style="color:#aaaaaa;">( contador</span><span style="color:#00ffff;"> >= </span><span style="color:#dc7633;">700 </span><span style="color:#aaaaaa;">)</span>
							              </p>
							              <p style="text-align: justify; margin-left: 40px;">
							                <span style="color:#aaaaaa;">contador</span><span style="color:#00ffff;"> = -</span><span style="color:#dc7633;">100 </span><span style="color:#aaaaaa;">;</span>
							              </p>
							              <p style="text-align: justify; ">
							                <span style="color:#aaaaaa;">}</span>
							              </p>
							          	</td>
							    			</tr>
							    		</tbody>
							    	</table>
							    </center>
								</div>
							</section>

						<!-- Three -->
							<section id="three">
								<div class="container">
										<h3>Visual Hack.</h3>
									</div>
								</div>
							</section>
			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollzer.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>
